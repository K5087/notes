---
title: 构建虚幻引擎
date: 2026-01-17 16:40:00 +0800
categories: [Learn, UE]
tags: [UE, Build]
description: 在windows上使用命令行构建虚幻引擎.
---

关于从源代码构建虚幻引擎，其[官方文档](https://dev.epicgames.com/documentation/en-us/unreal-engine/building-unreal-engine-from-source)中已经有了较为详细的介绍。但是由于工作的电脑需要避免使用Visual Studio，需要从命令行构建虚幻引擎，故写下此篇文档。

> 下载Unreal Engine源代码的过程不再赘述，详见[文档](https://dev.epicgames.com/documentation/en-us/unreal-engine/downloading-source-code-in-unreal-engine)
{:.prompt-info}

## 下载安装依赖

- 安装第三方库，在引擎源码处使用以下命令。

```shell
./SetUp.bat
./GenerateProjectFiles.bat
```

- 下载并安装[WindowsSDK](https://learn.microsoft.com/en-us/windows/apps/windows-sdk/downloads)

## 编译命令

UE自带一套编译工具，该工具分为UBT和UHT，UHT负责分析头文件中的宏来生成代码。UBT会先调用UHT,然后再使用编译器编译C++代码。这些工具可以在`Engine/Build/BatchFiles/`中找到。

安装WindowsSDK后，会提供msbuild工具链，在开始菜单中可以找到`Visual Studio Developer Command Prompt`和`Visual Studio Developer PowerShell`两个快捷方式来打开使用msbuild工具链的环境。

```shell
./Engine/Build/BatchFiles/RunUBT.bat UnrealEditor Win64 Development

./Engine/Build/BatchFiles/RunUBT.bat ShaderCompileWorker Win64 Development
```

> UE的构建以Target为单位，每个Target由多个Module组成，UnrealEditor可能需要更多Target才能运行起来，上述两条命令仅提供必需的两个Target编译
{:.prompt-tip}

我们也可以直接使用UE提供的BuildGraph来构建[参考文档](https://dev.epicgames.com/documentation/en-us/unreal-engine/create-an-installed-build-of-unreal-engine "构建可分发的软件")

```shell
./Engine/Build/BatchFiles/RunUAT.bat BuildGraph -target="Make Installed Build Win64" -script="Engine/Build/InstalledEngineBuild.xml" -clean
```

## 其他构建

UBT也可用于构建项目

> RunUBT.bat <项目名> <平台> <配置> <项目路径> [-options]

```shell
./Engine/Build/BatchFiles/RunUBT.bat MyProjectEditor Win64 Development "C:/Users/Name/Documents/Unreal Projects/MyProject/MyProject.uproject"
```
